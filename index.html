<!DOCTYPE html><html lang="ko"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¦°ì‹œì˜ ë…¸ë˜ì±…</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸµ</text></svg>" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* í•­ìƒ ìŠ¤í¬ë¡¤ë°” í‘œì‹œ */
        html { overflow-y: scroll; }
        /* ë©”ì¸ ë ˆì´ì•„ì›ƒ ë˜í¼ */
        .main-layout-wrapper { flex: 1; display: flex; }
        /* ì‚¬ì´ë“œë°” ì˜¤ë²„ë ˆì´ (ëª¨ë°”ì¼) */
        .sidebar-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.5); z-index: 40; display: none;
        }
        /* ì‚¬ì´ë“œë°” (ëª¨ë°”ì¼) */
        .sidebar {
            position: fixed; top: 0; left: 0; height: 100vh;
            transform: translateX(-100%); transition: transform 0.3s ease-out;
            z-index: 50; box-shadow: 2px 0 5px rgba(0,0,0,0.2);
            width: 16rem; flex-shrink: 0;
        }
        .sidebar.open { transform: translateX(0); }
        /* ë°ìŠ¤í¬í†± ì‚¬ì´ë“œë°” */
        @media (min-width: 768px) {
            .sidebar { position: relative; height: auto; transform: translateX(0); box-shadow: none; width: 16rem; }
        }
        /* í™œì„±í™”ëœ ë©”ë‰´ í•­ëª© - ê¸°ë³¸ íŒŒë€ìƒ‰ */
        .active-menu-item { background-color: #dbeafe; }
        .active-menu-item a { font-weight: bold; color: #1e40af; }
        .active-menu-item a:hover { color: #1e40af !important; }
        /* ë³µì‚¬ ë©”ì‹œì§€ */
        #copy-message {
            position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.7); color: white;
            padding: 1rem 2rem; border-radius: 0.5rem;
            z-index: 1000; opacity: 0;
            transition: opacity 0.5s ease-in-out;
            pointer-events: none;
        }
        #copy-message.show { opacity: 1; }
        /* ë³µì‚¬ ì•„ì´ì½˜ */
        .copy-cell img { cursor: pointer; transition: all 0.1s ease-in-out; }
        .copy-cell img:hover { transform: scale(1.1); }
        .copy-cell img:active { transform: scale(0.9) translateY(1px); }
        /* í…Œì´ë¸” ì—´ ë„ˆë¹„ (ê¸°ë³¸ ë³µì‚¬ ëª¨ë“œ) */
        #table-section table th:nth-child(1) { width: 3%; }
        #table-section table th:nth-child(2) { width: 22%; }
        #table-section table th:nth-child(3) { width: 35%; }
        #table-section table th:nth-child(4) { width: 17%; }
        #table-section table th:nth-child(5) { width: 13%; }
        #table-section table th:nth-child(6) { width: 10%; }
        /* í…Œì´ë¸” ì—´ ë„ˆë¹„ (í‚¤/BPM ëª¨ë“œ) */
        #table-section table.key-bpm-mode th:nth-child(4) { width: 15%; }
        #table-section table.key-bpm-mode th:nth-child(5) { width: 10%; }
        #table-section table.key-bpm-mode th:nth-child(6) { width: 15%; }
        /* 'ì—…ë³´ ëª©ë¡' ë©”ë‰´ ìŠ¤íƒ€ì¼ - ê¸°ë³¸ ìƒíƒœ (ë³¼ë“œ ì•„ë‹˜) */
        #karma-menu-item a {
            color: #ef4444; /* ë¹¨ê°„ìƒ‰ */
            font-weight: normal; /* ë³¼ë“œ ì•„ë‹˜ */
        }
        /* 'ì—…ë³´ ëª©ë¡' ë©”ë‰´ ìŠ¤íƒ€ì¼ - í™œì„±í™” ìƒíƒœ (í´ë¦­ ì‹œ) */
        #karma-menu-item.active-menu-item a {
            color: #b91c1c; /* í™œì„±í™” ì‹œ ì§„í•œ ë¹¨ê°„ìƒ‰ í…ìŠ¤íŠ¸ë¡œ ì˜¤ë²„ë¼ì´ë“œ */
            font-weight: bold; /* í™œì„±í™” ì‹œ ë³¼ë“œ ì²˜ë¦¬ */
        }
        /* 'ì—…ë³´ ëª©ë¡' ë©”ë‰´ - í™œì„±í™” ìƒíƒœì—ì„œ ë§ˆìš°ìŠ¤ í˜¸ë²„ ì‹œ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ê³ ì • */
        #karma-menu-item.active-menu-item a:hover {
            color: #b91c1c !important;
        }
        /* 'ë¦°ì‹œ ì‚¬ë‘' ë©”ë‰´ ìŠ¤íƒ€ì¼ - í•‘í¬ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
        #love-menu-item { display: none; }
        #love-menu-item a { color: #db2777; }
        #love-menu-item.active { display: block; font-weight: bold; color: #db2777; }

        /* ì§ìˆ˜ í–‰ ë°°ê²½ìƒ‰ì„ ë” ì—°í•œ íšŒìƒ‰ìœ¼ë¡œ ë³€ê²½ */
        .even-row-extra-light-blue {
            background-color: #f9fafb;
        }
    </style></head><body class="bg-gray-50">
    <div class="max-w-[1100px] mx-auto flex flex-col min-h-screen bg-white shadow-lg">
        <header class="bg-white shadow-sm py-4 border-b border-gray-200">
            <nav class="flex justify-between items-center px-4">
                <a href="#" class="text-2xl font-bold text-gray-800 hidden md:block"></a>
                <div class="hidden md:flex items-center rounded-full border border-gray-200 overflow-hidden focus-within:ring-2 focus-within:ring-blue-200 transition duration-200">
                    <div class="relative flex-1 py-2 pl-4">
                        <select id="category-select" class="w-full h-full bg-transparent focus:outline-none text-gray-700 appearance-none pr-8">
                            <option value="all">ì „ì²´</option>
                            <option value="ì—¬ì ì•„ì´ëŒ">ì—¬ì ì•„ì´ëŒ</option>
                            <option value="ë‚¨ì ì•„ì´ëŒ">ë‚¨ì ì•„ì´ëŒ</option>
                            <option value="ì¸ë””/í™í•©">ì¸ë””/í™í•©</option>
                            <option value="íŒì†¡">íŒì†¡</option>
                            <option value="ì œì´íŒ">ì œì´íŒ</option>
                            <option value="ì• êµê³¡">ì• êµê³¡</option>
                        </select>
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                            <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 6.757 7.586 5.343 9z"/></svg>
                        </div>
                    </div>
                    <div class="h-6 border-l border-gray-200 mx-1"></div>
                    <input type="search" id="search-input" placeholder="ê²€ìƒ‰..." class="flex-1 p-2 pl-4 bg-transparent focus:outline-none w-64">
                    <button id="search-button" class="text-gray-600 p-2 px-4 h-full flex items-center justify-center hover:text-gray-700 transition duration-200">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/24/24" ><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                    </button>
                </div>
                <button id="mobile-menu-button" class="md:hidden text-gray-600 hover:text-gray-700 focus:outline-none flex items-center space-x-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                    <span>ë©”ë‰´</span>
                </button>
            </nav>
        </header>

        <div class="main-layout-wrapper">
            <aside id="sidebar" class="bg-blue-50 text-black flex flex-col overflow-y-auto w-64">
                <div class="py-4 px-4">
                    <a href="#" id="sidebar-logo-link">
                        <img src="https://github.com/greatmoth/testpage/blob/main/logo.png?raw=true" alt="ë¦°ì‹œì˜ ë…¸ë˜ì±… ë¡œê³ " class="max-w-full h-auto block" onerror="this.onerror=null;this.src='https://placehold.co/256x100/eff6ff/1e40af?text=ë¦°ì‹œì˜+ë…¸ë˜ì±…+ë¡œê³ '">
                    </a>
                </div>
                <nav class="flex-1">
                    <ul class="space-y-0">
                        <li class="border-b border-blue-100 hover:bg-blue-100 transition duration-200"><a href="#" class="block px-6 py-3 text-gray-600 hover:text-blue-950" data-category="all">ì „ì²´</a></li>
                        <li class="border-b border-blue-100 hover:bg-blue-100 transition duration-200"><a href="#" class="block px-6 py-3 text-gray-600 hover:text-blue-950" data-category="ì—¬ì ì•„ì´ëŒ">ì—¬ì ì•„ì´ëŒ</a></li>
                        <li class="border-b border-blue-100 hover:bg-blue-100 transition duration-200"><a href="#" class="block px-6 py-3 text-gray-600 hover:text-blue-950" data-category="ë‚¨ì ì•„ì´ëŒ">ë‚¨ì ì•„ì´ëŒ</a></li>
                        <li class="border-b border-blue-100 hover:bg-blue-100 transition duration-200"><a href="#" class="block px-6 py-3 text-gray-600 hover:text-blue-950" data-category="ì¸ë””/í™í•©">ì¸ë””/í™í•©</a></li>
                        <li class="border-b border-blue-100 hover:bg-blue-100 transition duration-200"><a href="#" class="block px-6 py-3 text-gray-600 hover:text-blue-950" data-category="íŒì†¡">íŒì†¡</a></li>
                        <li class="border-b border-blue-100 hover:bg-blue-100 transition duration-200"><a href="#" class="block px-6 py-3 text-gray-600 hover:text-blue-950" data-category="ì œì´íŒ">ì œì´íŒ</a></li>
                        <li class="hover:bg-blue-100 transition duration-200"><a href="#" class="block px-6 py-3 text-gray-600 hover:text-blue-950" data-category="ì• êµê³¡">ì• êµê³¡</a></li>
                    </ul>
                    <ul class="space-y-0 mt-16">
                        <li id="karma-menu-item"><a href="#" class="block px-6 py-3 text-gray-600 hover:bg-blue-100 hover:text-blue-950 transition duration-200" data-category="ì—…ë³´ ëª©ë¡">ì—…ë³´ ëª©ë¡</a></li>
                        <li id="love-menu-item" class="border-b border-blue-100 last:border-b-0 hover:bg-blue-100 transition duration-200"><a href="#" class="block px-6 py-3 hover:text-blue-950">ë¦°ì‹œ ì‚¬ë‘</a></li>
                    </ul>
                </nav>
            </aside>

            <div id="sidebar-overlay" class="sidebar-overlay"></div>

            <main class="main-content-area flex-1 flex flex-col">
                <div id="copy-message" class="copy-message">ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!</div>

                <section id="table-section" class="flex-1 flex flex-col bg-white mx-4 mt-4 mb-8 hidden">
                    <div class="flex-1 bg-white overflow-x-auto">
                        <table class="min-w-full divide-y-0 divide-gray-200 table-fixed w-full">
                            <thead class="bg-gray-100">
                                <tr>
                                    <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider"></th>
                                    <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider">ì•„í‹°ìŠ¤íŠ¸</th>
                                    <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider">ì œëª©</th>
                                    <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider">ì¥ë¥´</th>
                                    <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider">ë¹„ê³ </th>
                                    <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider"></th>
                                </tr>
                            </thead>
                            <tbody id="music-table-body" class="bg-white divide-y-0 divide-gray-200"></tbody>
                        </table>
                    </div>
                </section>

                <section id="notice-section" class="flex-1 flex flex-col bg-white">
                    <div class="w-full px-8 py-8 text-center">
                        <h2 class="text-2xl font-bold text-gray-800 mb-4">ê³µì§€ì‚¬í•­</h2>
                        <p class="text-gray-600 text-lg leading-relaxed">
                            1. ì‹ ì²­ê³¡ì€ ë…¸ë˜ì±…ì— ìˆëŠ” ë…¸ë˜ë§Œ!<br>
                            2. ëª© ìƒíƒœì— ë”°ë¼ ìˆœì„œë¥¼ ë¯¸ë£¨ê±°ë‚˜ ê±°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
                        </p>
                        <div class="flex flex-col md:flex-row gap-8 mt-8 justify-center">
                            <div class="bg-blue-50 p-6 rounded-lg shadow-md w-4/5 md:w-2/5 flex flex-col">
                                <h3 class="text-2xl font-semibold text-blue-800 mb-2">ì‹ ì²­ê³¡ ê°€ê²©í‘œ</h3>
                                <div class="flex flex-col flex-1 justify-center">
                                    <p class="text-gray-700 text-lg">
                                        ëª¨ë“  ê³¡ <span class="text-yellow-500 font-bold text-xl">5,000 ì¹˜ì¦ˆ</span><br>
                                        <span class="text-sm text-gray-400">(ë‹¨ ì–´ë ¤ìš´ â˜… ë…¸ë˜ëŠ” ì–¸ì œ ëŒì§€ ëª¨ë¦„)</span>
                                    </p>
                                </div>
                            </div>
                            <div class="bg-blue-50 p-6 rounded-lg shadow-md w-4/5 md:w-2/5 flex flex-col">
                                <h3 class="text-2xl font-semibold text-blue-800 mb-2">ì—…ë³´ ê°€ê²©í‘œ</h3>
                                <div class="flex flex-col flex-1 justify-center">
                                    <p class="text-gray-700 text-lg mb-1">ë…¸ë˜ ì—°ìŠµ: <span class="text-yellow-500 font-bold">50,000 ì¹˜ì¦ˆ</span></p>
                                    <p class="text-gray-700 text-lg mb-0.5">ë…¹ìŒ: <span class="text-yellow-500 font-bold">200,000 ì¹˜ì¦ˆ</span></p>
                                    <p class="text-sm text-gray-400 -mt-1 mb-1">ì™¸êµ­ê³¡ : + <span class="text-orange-300 font-bold">50,000 ì¹˜ì¦ˆ</span></p>
                                    <p class="text-gray-700 text-lg mb-0">ì• êµê³¡: <span class="text-yellow-500 font-bold">1,000,000 ì¹˜ì¦ˆ</span></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM ìš”ì†Œ ì„ íƒ
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const sidebar = document.getElementById('sidebar');
            const sidebarOverlay = document.getElementById('sidebar-overlay');
            const sidebarNav = document.querySelector('#sidebar nav');
            const musicTableBody = document.getElementById('music-table-body');
            const categorySelect = document.getElementById('category-select');
            const sidebarLogoLink = document.getElementById('sidebar-logo-link');
            const tableSection = document.getElementById('table-section');
            const noticeSection = document.getElementById('notice-section');
            const searchInput = document.getElementById('search-input');
            const searchButton = document.getElementById('search-button');
            const copyMessage = document.getElementById('copy-message');
            const loveMenuItem = document.getElementById('love-menu-item');
            const musicTable = document.querySelector('#table-section table');

            // ì „ì—­ ìƒíƒœ ë³€ìˆ˜: UIì˜ í˜„ì¬ ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
            let state = {
                isKeyBpmMode: false,
                currentSearchTerm: '',
                selectedCategory: 'notice' // í˜„ì¬ ì„ íƒëœ ì¹´í…Œê³ ë¦¬
            };

            // ìƒ˜í”Œ ìŒì•… ë°ì´í„° (í‚¤/BPM ì •ë³´ ì¶”ê°€)
            const allMusicData = [
                { artist: 'NewJeans', title: 'Ditto', genre: 'ì—¬ì ì•„ì´ëŒ', keyBpm: 'B / 135 BPM' },
                { artist: 'BTS', title: 'Dynamite', genre: 'ë‚¨ì ì•„ì´ëŒ', keyBpm: 'C / 114 BPM' },
                { artist: 'í˜ì˜¤ (Hyukoh)', title: 'ìœ„ì‰ìœ„ì‰', genre: 'ì¸ë””/í™í•©', keyBpm: 'D#m / 100 BPM' },
                { artist: 'Adele', title: 'Rolling in the Deep', genre: 'íŒì†¡', keyBpm: 'C / 105 BPM' },
                { artist: 'ìš”ì•„ì†Œë¹„ (YOASOBI)', title: 'ì•„ì´ëŒ (ã‚¢ã‚¤ãƒ‰ãƒ«)', genre: 'ì œì´íŒ', keyBpm: 'F / 167 BPM' },
                { artist: 'IVE', title: 'LOVE DIVE', genre: 'ì—¬ì ì•„ì´ëŒ', keyBpm: 'Am / 117 BPM' },
                { artist: 'Stray Kids', title: 'God\'s Menu', genre: 'ë‚¨ì ì•„ì´ëŒ', keyBpm: 'D#m / 154 BPM' },
                { artist: 'ì”ë‚˜ë¹„ (Jannabi)', title: 'ì£¼ì €í•˜ëŠ” ì—°ì¸ë“¤ì„ ìœ„í•´', genre: 'ì¸ë””/í™í•©', keyBpm: 'F / 128 BPM' },
                { artist: 'Dua Lipa', title: 'Levitating', genre: 'íŒì†¡', keyBpm: 'Am / 103 BPM' },
                { artist: 'Officialé«­ç”·dism', title: 'Pretender', genre: 'ì œì´íŒ', keyBpm: 'Bb / 92 BPM' },
                { artist: 'LE SSERAFIM', title: 'UNFORGIVEN', genre: 'ì—¬ì ì•„ì´ëŒ', keyBpm: 'Dm / 105 BPM' },
                { artist: 'SEVENTEEN', title: 'Super', genre: 'ë‚¨ì ì•„ì´ëŒ', keyBpm: 'C# / 130 BPM' },
                { artist: 'AKMU', title: 'ë‚™ì—½ì´ ì•„ë¦„ë‹¤ìš´ ì´ìœ ', genre: 'ì¸ë””/í™í•©', keyBpm: 'G / 115 BPM' },
                { artist: 'The Weeknd', title: 'Blinding Lights', genre: 'íŒì†¡', keyBpm: 'Fm / 171 BPM' },
                { artist: 'King Gnu', title: 'ç™½æ—¥', genre: 'ì œì´íŒ', keyBpm: 'C / 95 BPM' },
                { artist: 'TWICE', title: 'SET ME FREE', genre: 'ì—¬ì ì•„ì´ëŒ', keyBpm: 'G / 105 BPM' },
                { artist: 'aespa', title: 'Drama', genre: 'ì—¬ì ì•„ì´ëŒ', keyBpm: 'G / 125 BPM' },
                { artist: 'ITZY', title: 'CAKE', genre: 'ì—¬ì ì•„ì´ëŒ', keyBpm: 'F# / 138 BPM' },
                { artist: 'EXO', title: 'Growl', genre: 'ë‚¨ì ì•„ì´ëŒ', keyBpm: 'B / 165 BPM' },
                { artist: 'NCT DREAM', title: 'Candy', genre: 'ë‚¨ì ì•„ì´ëŒ', keyBpm: 'D / 120 BPM' },
                { artist: 'TREASURE', title: 'BONA BONA', genre: 'ë‚¨ì ì•„ì´ëŒ', keyBpm: 'Am / 125 BPM' },
                { artist: 'ì¹´ë”ê°€ë“ ', title: 'Together', genre: 'ì¸ë””/í™í•©', keyBpm: 'G / 85 BPM' },
                { artist: 'pH-1', title: 'Nerdy Love (feat. ë°±ì˜ˆë¦°)', genre: 'ì¸ë””/í™í•©', keyBpm: 'Cm / 100 BPM' },
                { artist: 'ìì´ì–¸í‹°', title: 'êº¼ë‚´ ë¨¹ì–´ìš”', genre: 'ì¸ë””/í™í•©', keyBpm: 'G / 100 BPM' },
                { artist: 'Ed Sheeran', title: 'Shape of You', genre: 'íŒì†¡', keyBpm: 'C#m / 96 BPM' },
                { artist: 'Billie Eilish', title: 'bad guy', genre: 'íŒì†¡', keyBpm: 'Gm / 135 BPM' },
                { artist: 'Olivia Rodrigo', title: 'vampire', genre: 'íŒì†¡', keyBpm: 'B / 125 BPM' },
                { artist: 'YOASOBI', title: 'å¤œã«é§†ã‘ã‚‹', genre: 'ì œì´íŒ', keyBpm: 'C#m / 130 BPM' },
                { artist: 'Fujii Kaze', title: 'Shinunoga E-Wa', genre: 'ì œì´íŒ', keyBpm: 'Am / 140 BPM' },
                { artist: 'Ado', title: 'Usseewa', genre: 'ì œì´íŒ', keyBpm: 'G#m / 175 BPM' },
                { artist: 'ì†¡í•˜ì˜ˆ', title: 'ë‚´ ë§ˆìŒì´ ë‚˜ìœê°€ ë´', genre: 'ì• êµê³¡', keyBpm: 'G / 85 BPM' },
                { artist: 'ìœ¤í•˜', title: 'ì˜¤ë¥´íŠ¸êµ¬ë¦„', genre: 'ì• êµê³¡', keyBpm: 'C / 125 BPM' },
                { artist: 'ì•„ì´ìœ ', title: 'ë³µìˆ­ì•„', genre: 'ì• êµê³¡', keyBpm: 'D / 140 BPM' },
                // ì—…ë³´ ëª©ë¡
                { artist: 'ë¦°ì‹œ', title: 'ë‹¤ì‹œëŠ” ì•ˆ í•  ì—…ë³´', genre: 'ì—…ë³´ ëª©ë¡', keyBpm: 'Am / 120 BPM' },
                { artist: 'ë¦°ì‹œ', title: 'ë˜ ë‹¤ë¥¸ ì—…ë³´', genre: 'ì—…ë³´ ëª©ë¡', keyBpm: 'Dm / 110 BPM' },
            ];

            // ë¹„ê³ ë€ì— ë¬´ì‘ìœ„ ê°’ í• ë‹¹
            const notes = ['1ì ˆ', '2ì ˆ', 'ì™„ê³¡', 'ì–´ë ¤ì›€'];
            allMusicData.forEach(item => {
                const randomIndex = Math.floor(Math.random() * notes.length);
                item.note = notes[randomIndex];
            });

            // ì‚¬ì´ë“œë°” í† ê¸€ í•¨ìˆ˜
            function toggleSidebar() {
                sidebar.classList.toggle('open');
                sidebarOverlay.style.display = sidebar.classList.contains('open') ? 'block' : 'none';
            }

            // ë³µì‚¬ ë©”ì‹œì§€ í‘œì‹œ í•¨ìˆ˜ (ë™ê¸° ì²˜ë¦¬)
            function copyToClipboard(text) {
                const tempInput = document.createElement('textarea');
                tempInput.value = text;
                document.body.appendChild(tempInput);
                tempInput.select();
                try {
                    document.execCommand('copy');
                    copyMessage.classList.add('show');
                    setTimeout(() => copyMessage.classList.remove('show'), 2000);
                } catch (err) {
                    console.error('í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:', err);
                } finally {
                    document.body.removeChild(tempInput);
                }
            }

            // UI ì—…ë°ì´íŠ¸ ë° ë°ì´í„° í•„í„°ë§ í•¨ìˆ˜
            function updateUIAndFilter() {
                // í˜„ì¬ ì„ íƒëœ ì¹´í…Œê³ ë¦¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‚¬ì´ë“œë°” UI ìƒíƒœ ì—…ë°ì´íŠ¸
                document.querySelectorAll('nav li').forEach(listItem => {
                    const link = listItem.querySelector('a');
                    const category = link ? link.dataset.category : null;

                    if (category === state.selectedCategory) {
                        listItem.classList.add('active-menu-item');
                    } else {
                        listItem.classList.remove('active-menu-item');
                    }
                });

                // ê²€ìƒ‰ë°”ì˜ ë“œë¡­ë‹¤ìš´ ê°’ì€ `state.selectedCategory`ì™€ ë‹¤ë¥´ê²Œ ìœ ì§€ë  ìˆ˜ ìˆìŒ
                if (state.selectedCategory === 'notice' || state.selectedCategory === 'ì—…ë³´ ëª©ë¡') {
                    categorySelect.value = 'all';
                } else {
                    categorySelect.value = state.selectedCategory;
                }

                // 'ë¦°ì‹œ ì‚¬ë‘' ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ë™ê¸°í™”
                loveMenuItem.classList.toggle('active', state.isKeyBpmMode);

                // ì„¹ì…˜ ê°€ì‹œì„± ì œì–´
                const isNotice = state.selectedCategory === 'notice';
                tableSection.classList.toggle('hidden', isNotice);
                noticeSection.classList.toggle('hidden', !isNotice);

                // ê³µì§€ì‚¬í•­ ì„¹ì…˜ì´ ì•„ë‹ˆë¼ë©´ í…Œì´ë¸” ë Œë”ë§
                if (!isNotice) {
                    renderTable();
                }
            }

            // í…Œì´ë¸” ë°ì´í„° ë Œë”ë§ í•¨ìˆ˜
            function renderTable() {
                musicTableBody.innerHTML = '';
                musicTable.classList.toggle('key-bpm-mode', state.isKeyBpmMode);

                let dataToRender = allMusicData;

                // 1. ê²€ìƒ‰ì–´ê°€ ì—†ëŠ” ê²½ìš°: ì‚¬ì´ë“œë°” ì¹´í…Œê³ ë¦¬ì— ë”°ë¼ í•„í„°ë§
                if (!state.currentSearchTerm) {
                    if (state.selectedCategory !== 'all' && state.selectedCategory !== 'notice') {
                        dataToRender = allMusicData.filter(item => item.genre === state.selectedCategory);
                    }
                } 
                // 2. ê²€ìƒ‰ì–´ê°€ ìˆëŠ” ê²½ìš°: ê²€ìƒ‰ë°”ì˜ ì¹´í…Œê³ ë¦¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•„í„°ë§í•˜ê³  'ì—…ë³´ ëª©ë¡' ì œì™¸
                else {
                    const lowerCaseSearchTerm = state.currentSearchTerm.toLowerCase();
                    
                    // 'ì—…ë³´ ëª©ë¡'ì€ ê²€ìƒ‰ ëŒ€ìƒì—ì„œ ë¬´ì¡°ê±´ ì œì™¸
                    dataToRender = dataToRender.filter(item => item.genre !== 'ì—…ë³´ ëª©ë¡');

                    // ê²€ìƒ‰ë°”ì˜ ì¹´í…Œê³ ë¦¬ê°€ 'all'ì´ ì•„ë‹ˆë©´ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ë¡œ í•„í„°ë§
                    if (state.selectedCategory !== 'all') {
                        dataToRender = dataToRender.filter(item => item.genre === state.selectedCategory);
                    }
                    
                    // ë§ˆì§€ë§‰ìœ¼ë¡œ ê²€ìƒ‰ì–´ì— ë”°ë¼ í•„í„°ë§
                    dataToRender = dataToRender.filter(item =>
                        item.artist.toLowerCase().includes(lowerCaseSearchTerm) ||
                        item.title.toLowerCase().includes(lowerCaseSearchTerm)
                    );
                }
                
                if (dataToRender.length === 0) {
                    const noDataRow = document.createElement('tr');
                    noDataRow.innerHTML = `<td colspan="6" class="px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</td>`;
                    musicTableBody.appendChild(noDataRow);
                } else {
                    dataToRender.forEach((item, index) => {
                        const row = document.createElement('tr');
                        row.classList.add('hover:bg-gray-50', 'transition', 'duration-150', 'ease-in-out');
                        if (index % 2 === 1) {
                            row.classList.add('even-row-extra-light-blue');
                        }
                        
                        const colorClass = ['bg-red-100', 'bg-yellow-100', 'bg-blue-100'][index % 3];

                        // 'ì—…ë³´ ëª©ë¡'ì¼ ê²½ìš° ë§ˆì§€ë§‰ ì…€ì„ ë¹„ì›ë‹ˆë‹¤.
                        let lastCellContent = '';
                        let lastCellClasses = 'px-6 py-4 whitespace-nowrap text-sm text-gray-500';
                        
                        if (item.genre !== 'ì—…ë³´ ëª©ë¡') {
                            if (state.isKeyBpmMode) {
                                lastCellContent = `<span class="font-semibold text-gray-700">${item.keyBpm.replace(' BPM', '')}</span>`;
                            } else {
                                lastCellContent = `<img src="https://cdn.discordapp.com/attachments/947143234885419081/1400192602380304505/Custom-Icon-Design-Mono-General-2-Copy.512.png?ex=688bbe7a&is=688a6cfa&hm=18bfd566ce1cc58b1819898b3c84b724a435536563e5eaa3d751fcd8878350dd&" alt="ë³µì‚¬ ì•„ì´ì½˜" class="w-5 h-5 mx-auto block">`;
                                lastCellClasses += ' copy-cell';
                            }
                        }

                        row.innerHTML = `
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-center ${colorClass}"></td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-normal text-gray-700">${item.artist}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${item.title}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${item.genre}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${item.note}</td>
                            <td class="${lastCellClasses}" data-title="${item.title}">${lastCellContent}</td>
                        `;
                        musicTableBody.appendChild(row);
                    });
                }
            }

            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
            mobileMenuButton.addEventListener('click', toggleSidebar);
            sidebarOverlay.addEventListener('click', toggleSidebar);

            // ì‚¬ì´ë“œë°” ë©”ë‰´ í´ë¦­ ì´ë²¤íŠ¸
            sidebarNav.addEventListener('click', (e) => {
                const targetLink = e.target.closest('a');
                if (targetLink) {
                    e.preventDefault();
                    const category = targetLink.dataset.category;
                    if (category) {
                        state.selectedCategory = category;
                        state.currentSearchTerm = '';
                        searchInput.value = '';
                        updateUIAndFilter();
                    }
                    if (window.innerWidth < 768) {
                        toggleSidebar();
                    }
                }
            });

            // ê²€ìƒ‰ì°½ì˜ ì¹´í…Œê³ ë¦¬ ì…€ë ‰íŠ¸ ë°•ìŠ¤ ë³€ê²½ ì‹œ
            categorySelect.addEventListener('change', () => {
                state.selectedCategory = categorySelect.value;
                state.currentSearchTerm = '';
                searchInput.value = '';
                updateUIAndFilter();
            });

            sidebarLogoLink.addEventListener('click', (e) => {
                e.preventDefault();
                state.selectedCategory = 'notice';
                state.currentSearchTerm = '';
                searchInput.value = '';
                updateUIAndFilter();
            });
            
            // ê²€ìƒ‰ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
            searchButton.addEventListener('click', () => {
                state.currentSearchTerm = searchInput.value;
                // ê²€ìƒ‰ ì‹œ, `state.selectedCategory`ë¥¼ ê²€ìƒ‰ë°”ì˜ ì¹´í…Œê³ ë¦¬ë¡œ ë³€ê²½
                state.selectedCategory = categorySelect.value;
                updateUIAndFilter();
            });

            // ì—”í„° í‚¤ ì…ë ¥ ì´ë²¤íŠ¸
            searchInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    state.currentSearchTerm = searchInput.value;
                    // ê²€ìƒ‰ ì‹œ, `state.selectedCategory`ë¥¼ ê²€ìƒ‰ë°”ì˜ ì¹´í…Œê³ ë¦¬ë¡œ ë³€ê²½
                    state.selectedCategory = categorySelect.value;
                    updateUIAndFilter();
                }
            });
            
            musicTableBody.addEventListener('click', (e) => {
                const copyCell = e.target.closest('.copy-cell');
                if (copyCell && !state.isKeyBpmMode) {
                    const title = copyCell.dataset.title;
                    if (title) {
                        // ë³µì‚¬ í…ìŠ¤íŠ¸ë¥¼ 'ì‹ ì²­'ìœ¼ë¡œ ìˆ˜ì •
                        copyToClipboard(`ì‹ ì²­ ${title}`);
                    }
                }
            });

            // ì½”ë‚˜ë¯¸ ì½”ë“œ ë¡œì§ ìˆ˜ì •: ì‚¬ìš©ì ìš”ì²­ì— ë§ì¶° í‚¤ ìˆœì„œ ë³€ê²½
            const konamiCode = ['ArrowUp', 'ArrowDown', 'ArrowUp', 'ArrowDown', 'ArrowLeft'];
            let konamiIndex = 0;
            window.addEventListener('keydown', (e) => {
                const key = e.key;

                if (konamiIndex < konamiCode.length && key === konamiCode[konamiIndex]) {
                    konamiIndex++;
                } else {
                    konamiIndex = 0;
                }

                if (konamiIndex === konamiCode.length) {
                    loveMenuItem.style.display = 'block';
                    konamiIndex = 0; // ì½”ë“œê°€ ì„±ê³µì ìœ¼ë¡œ ì…ë ¥ë˜ë©´ ì´ˆê¸°í™”
                }
            });

            loveMenuItem.addEventListener('click', (e) => {
                e.preventDefault();
                if (state.selectedCategory !== 'notice') {
                    state.isKeyBpmMode = !state.isKeyBpmMode;
                    updateUIAndFilter();
                }
                if (window.innerWidth < 768) {
                    toggleSidebar();
                }
            });

            // ì´ˆê¸° í˜ì´ì§€ ë¡œë“œ
            updateUIAndFilter();
        });
    </script></body></html>
